exports.id=6845,exports.ids=[6845],exports.modules={79400:(e,r,t)=>{let s={"163e7b58f5779b393ceea49262a4b21808e6399e":()=>Promise.resolve().then(t.bind(t,54977)).then(e=>e.syncKeylessConfigAction),"3e879f583e619ab6755fe4cd43fb39588e8fb804":()=>Promise.resolve().then(t.bind(t,54977)).then(e=>e.createOrReadKeylessAction),"6b81e5e8a01ecdef441a00e71b8f835c3f839e2b":()=>Promise.resolve().then(t.bind(t,6397)).then(e=>e.invalidateCacheAction)};async function a(e,...r){return(await s[e]()).apply(null,r)}e.exports={"163e7b58f5779b393ceea49262a4b21808e6399e":a.bind(null,"163e7b58f5779b393ceea49262a4b21808e6399e"),"3e879f583e619ab6755fe4cd43fb39588e8fb804":a.bind(null,"3e879f583e619ab6755fe4cd43fb39588e8fb804"),"6b81e5e8a01ecdef441a00e71b8f835c3f839e2b":a.bind(null,"6b81e5e8a01ecdef441a00e71b8f835c3f839e2b")}},20500:(e,r,t)=>{Promise.resolve().then(t.bind(t,1607)),Promise.resolve().then(t.bind(t,91287)),Promise.resolve().then(t.bind(t,16566)),Promise.resolve().then(t.bind(t,91721)),Promise.resolve().then(t.bind(t,96067)),Promise.resolve().then(t.bind(t,72248)),Promise.resolve().then(t.bind(t,85999)),Promise.resolve().then(t.bind(t,50273))},85779:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,92639,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23)),Promise.resolve().then(t.t.bind(t,22816,23))},51223:(e,r,t)=>{"use strict";t.d(r,{E3:()=>u,G_:()=>d,QG:()=>l,T4:()=>c,cn:()=>i,kg:()=>p});var s=t(41135),a=t(31009),o=t(27256),n=t(85999);function i(...e){return(0,a.m6)((0,s.W)(e))}function c(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format((e||0)/100)}function d(e){return((e||0)/100).toString()}o.Z_().transform(e=>{let r=parseFloat(e);return isNaN(r)?"0":(function(e){return Math.round(100*("string"==typeof e?parseFloat(e):e))})(r).toString()});let l=[{value:"N-5",label:"N-5"},{value:"N-4",label:"N-4"},{value:"N-3",label:"N-3"},{value:"N-2",label:"N-2"}],u=(e,r)=>{let t=new FormData;t.append("title",e.courseTitle),t.append("description",e.courseDescription),t.append("category",e.courseCategory),t.append("price",e.coursePrice.toString()),t.append("status",e.courseStatus?"Published":"Draft");let s=r.map(e=>({...e,chapters:e.chapters.map(e=>({...e,video:e.video}))}));return t.append("sections",JSON.stringify(s)),t},p=async(e,r,t)=>{let s=e.map(e=>({...e,chapters:e.chapters.map(e=>({...e}))}));for(let e=0;e<s.length;e++)for(let a=0;a<s[e].chapters.length;a++){let o=s[e].chapters[a];if(o.video instanceof File&&"video/mp4"===o.video.type)try{let n=await h(o,r,s[e].sectionId,t);s[e].chapters[a]=n}catch(e){console.error(`Failed to upload video for chapter ${o.chapterId}:`,e)}}return s};async function h(e,r,t,s){let a=e.video;try{let{uploadUrl:o,videoUrl:i}=await s({courseId:r,sectionId:t,chapterId:e.chapterId,fileName:a.name,fileType:a.type}).unwrap();return await fetch(o,{method:"PUT",headers:{"Content-Type":a.type},body:a}),n.A.success(`Video uploaded successfully for chapter ${e.chapterId}`),{...e,video:i}}catch(r){throw console.error(`Failed to upload video for chapter ${e.chapterId}:`,r),r}}},22325:(e,r,t)=>{"use strict";t.d(r,{Bi:()=>g,Dx:()=>b,Ie:()=>v,Ky:()=>h,NG:()=>C,PW:()=>p,S5:()=>f,_c:()=>d,a_:()=>u,hi:()=>i,iL:()=>y,kD:()=>c,mG:()=>l,ym:()=>m});var s=t(37509),a=t(69119),o=t(85999);let n=async(e,r,t)=>{let a=(0,s.ni)({baseUrl:"http://localhost:8001",prepareHeaders:async e=>{let r=await window.Clerk?.session?.getToken();return r&&e.set("Authorization",`Bearer ${r}`),e}});try{let s=await a(e,r,t);if(s.error){let e=s.error.data,r=e?.message||s.error.status.toString()||"An error occurred";o.A.error(`Error: ${r}`)}if(e.method&&"GET"!==e.method){let e=s.data?.message;e&&o.A.success(e)}if(s.data)s.data=s.data.data;else if(s.error?.status===204||s.meta?.response?.status===24)return{data:null};return s}catch(e){return{error:{status:"FETCH_ERROR",error:e instanceof Error?e.message:"Unknown error"}}}},i=(0,a.LC)({baseQuery:n,reducerPath:"api",tagTypes:["Courses","Users","UserCourseProgress"],endpoints:e=>({updateUser:e.mutation({query:({userId:e,...r})=>({url:`users/clerk/${e}`,method:"PUT",body:r}),invalidatesTags:["Users"]}),getCourses:e.query({query:({category:e})=>({url:"courses",params:{category:e}}),providesTags:["Courses"]}),getCourse:e.query({query:e=>`courses/${e}`,providesTags:(e,r,t)=>[{type:"Courses",id:t}]}),createCourse:e.mutation({query:e=>({url:"courses",method:"POST",body:e}),invalidatesTags:["Courses"]}),updateCourse:e.mutation({query:({courseId:e,formData:r})=>({url:`courses/${e}`,method:"PUT",body:r}),invalidatesTags:(e,r,{courseId:t})=>[{type:"Courses",id:t}]}),deleteCourse:e.mutation({query:e=>({url:`courses/${e}`,method:"DELETE"}),invalidatesTags:["Courses"]}),getUploadVideoUrl:e.mutation({query:({courseId:e,sectionId:r,chapterId:t,fileName:s,fileType:a})=>({url:`courses/${e}/sections/${r}/chapters/${t}/get-upload-url`,method:"POST",body:{fileName:s,fileType:a}})}),getTransactions:e.query({query:e=>`transactions?userId=${e}`}),createStripePaymentIntent:e.mutation({query:({amount:e})=>({url:"/transactions/stripe/payment-intent",method:"POST",body:{amount:e}})}),createTransaction:e.mutation({query:e=>({url:"transactions",method:"POST",body:e})}),getUserEnrolledCourses:e.query({query:e=>`users/course-progress/${e}/enrolled-courses`,providesTags:["Courses","UserCourseProgress"]}),getUserCourseProgress:e.query({query:({userId:e,courseId:r})=>`users/course-progress/${e}/courses/${r}`,providesTags:["UserCourseProgress"]}),updateUserCourseProgress:e.mutation({query:({userId:e,courseId:r,progressData:t})=>({url:`users/course-progress/${e}/courses/${r}`,method:"PUT",body:t}),invalidatesTags:["UserCourseProgress"],async onQueryStarted({userId:e,courseId:r,progressData:t},{dispatch:s,queryFulfilled:a}){let o=s(i.util.updateQueryData("getUserCourseProgress",{userId:e,courseId:r},e=>{Object.assign(e,{...e,sections:t.sections})}));try{await a}catch{o.undo()}}})})}),{useUpdateUserMutation:c,useCreateCourseMutation:d,useUpdateCourseMutation:l,useDeleteCourseMutation:u,useGetCoursesQuery:p,useGetCourseQuery:h,useGetUploadVideoUrlMutation:y,useGetTransactionsQuery:m,useCreateTransactionMutation:b,useCreateStripePaymentIntentMutation:f,useGetUserEnrolledCoursesQuery:g,useGetUserCourseProgressQuery:v,useUpdateUserCourseProgressMutation:C}=i},91053:(e,r,t)=>{"use strict";t.d(r,{Cg:()=>c,EG:()=>o,F$:()=>u,Iz:()=>n,T6:()=>y,V$:()=>h,ZA:()=>p,ZP:()=>m,by:()=>a,mb:()=>l,mq:()=>i,qG:()=>d});let s=(0,t(8860).oM)({name:"global",initialState:{courseEditor:{sections:[],isChapterModalOpen:!1,isSectionModalOpen:!1,selectedSectionIndex:null,selectedChapterIndex:null}},reducers:{setSections:(e,r)=>{e.courseEditor.sections=r.payload},openChapterModal:(e,r)=>{e.courseEditor.isChapterModalOpen=!0,e.courseEditor.selectedSectionIndex=r.payload.sectionIndex,e.courseEditor.selectedChapterIndex=r.payload.chapterIndex},closeChapterModal:e=>{e.courseEditor.isChapterModalOpen=!1,e.courseEditor.selectedSectionIndex=null,e.courseEditor.selectedChapterIndex=null},openSectionModal:(e,r)=>{e.courseEditor.isSectionModalOpen=!0,e.courseEditor.selectedSectionIndex=r.payload.sectionIndex},closeSectionModal:e=>{e.courseEditor.isSectionModalOpen=!1,e.courseEditor.selectedSectionIndex=null},addSection:(e,r)=>{e.courseEditor.sections.push(r.payload)},editSection:(e,r)=>{e.courseEditor.sections[r.payload.index]=r.payload.section},deleteSection:(e,r)=>{e.courseEditor.sections.splice(r.payload,1)},addChapter:(e,r)=>{e.courseEditor.sections[r.payload.sectionIndex].chapters.push(r.payload.chapter)},editChapter:(e,r)=>{e.courseEditor.sections[r.payload.sectionIndex].chapters[r.payload.chapterIndex]=r.payload.chapter},deleteChapter:(e,r)=>{e.courseEditor.sections[r.payload.sectionIndex].chapters.splice(r.payload.chapterIndex,1)}}}),{setSections:a,openChapterModal:o,closeChapterModal:n,openSectionModal:i,closeSectionModal:c,addSection:d,editSection:l,deleteSection:u,addChapter:p,editChapter:h,deleteChapter:y}=s.actions,m=s.reducer},50273:(e,r,t)=>{"use strict";t.d(r,{CG:()=>y,TL:()=>h,default:()=>m});var s=t(68819),a=t(17266),o=t(25842),n=t(712),i=t(8860),c=t(37509),d=t(91053),l=t(22325);let u=(0,n.UY)({global:d.ZP,[l.hi.reducerPath]:l.hi.reducer}),p=()=>(0,i.xC)({reducer:u,middleware:e=>e({serializableCheck:{ignoredActions:["api/executeMutation/pending","api/executeMutation/fulfilled","api/executeMutation/rejected"],ignoredActionPaths:["meta.arg.originalArgs.file","meta.arg.originalArgs.formData","payload.chapter.video","meta.baseQueryMeta.request","meta.baseQueryMeta.response"],ignoredPaths:["global.courseEditor.sections","entities.videos.data","meta.baseQueryMeta.request","meta.baseQueryMeta.response"]}}).concat(l.hi.middleware)}),h=()=>(0,o.I0)(),y=o.v9;function m({children:e}){let r=(0,a.useRef)();return r.current||(r.current=p(),(0,c.sj)(r.current.dispatch)),(0,s.jsx)(o.zt,{store:r.current,children:e})}},37973:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>p,metadata:()=>h});var a=t(89351),o=t(37218),n=t.n(o);t(5023);var i=t(24553),c=t(7875),d=t(24406),l=t(22052),u=e([i,d,c]);[i,d,c]=u.then?(await u)():u;let h={title:"Create Next App",description:"Generated by create next app"};function p({children:e}){return(0,a.jsx)(c.El,{children:(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:`${n().className}`,children:(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(l.Suspense,{fallback:null,children:(0,a.jsx)("div",{className:"root-layout",children:e})}),(0,a.jsx)(d.Toaster,{richColors:!0,closeButton:!0})]})})})})}s()}catch(e){s(e)}})},24553:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(r,{Z:()=>i});var a=t(89351);t(22052);var o=t(1098),n=e([o]);o=(n.then?(await n)():n)[0];let i=({children:e})=>(0,a.jsx)(o.default,{children:e});s()}catch(e){s(e)}})},1098:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>c,makeStore:()=>o,useAppDispatch:()=>n,useAppSelector:()=>i});var a=t(71851);let e=await (0,a.createProxy)(String.raw`D:\AThesis\AITOMANABUDESU\client\src\state\redux.tsx`),o=e.makeStore,n=e.useAppDispatch,i=e.useAppSelector,c=e.default;s()}catch(e){s(e)}},1)},49100:(e,r,t)=>{"use strict";t.d(r,{T:()=>a});var s=t(46242);let a=(0,s.createServerReference)("6b81e5e8a01ecdef441a00e71b8f835c3f839e2b",s.callServer,void 0,s.findSourceMapURL,"invalidateCacheAction")},73881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(40771);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};