(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8830,2972],{24720:(e,t,i)=>{Promise.resolve().then(i.bind(i,30757))},30757:(e,t,i)=>{"use strict";i.d(t,{default:()=>f});var s=i(57437),a=i(59162),l=i(31014),n=i(51994),o=i(5267);i(2265);var c=i(39343),r=i(56341),u=i(97114),d=i(4223),m=i(89733);let f=e=>{var t;let{title:i="Notification Settings",subtitle:f="Manage your notification settings"}=e,{user:b}=(0,o.aF)(),[y]=(0,n.kD)(),v=(null==b?void 0:null===(t=b.publicMetadata)||void 0===t?void 0:t.settings)||{},h=(0,c.cI)({resolver:(0,l.F)(a.vM),defaultValues:{courseNotifications:v.courseNotifications||!1,emailAlerts:v.emailAlerts||!1,smsAlerts:v.smsAlerts||!1,notificationFrequency:v.notificationFrequency||"daily"}}),g=async e=>{if(!b)return;let t={userId:b.id,publicMetadata:{...b.publicMetadata,settings:{...v,...e}}};try{await y(t)}catch(e){console.error("Failed to update user settings: ",e)}};return b?(0,s.jsxs)("div",{className:"notification-settings",children:[(0,s.jsx)(r.Z,{title:i,subtitle:f}),(0,s.jsx)(u.l0,{...h,children:(0,s.jsxs)("form",{onSubmit:h.handleSubmit(g),className:"notification-settings__form",children:[(0,s.jsxs)("div",{className:"notification-settings__fields",children:[(0,s.jsx)(d.T,{name:"courseNotifications",label:"Course Notifications",type:"switch"}),(0,s.jsx)(d.T,{name:"emailAlerts",label:"Email Alerts",type:"switch"}),(0,s.jsx)(d.T,{name:"smsAlerts",label:"SMS Alerts",type:"switch"}),(0,s.jsx)(d.T,{name:"notificationFrequency",label:"Notification Frequency",type:"select",options:[{value:"immediate",label:"Immediate"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"}]})]}),(0,s.jsx)(m.z,{type:"submit",className:"notification-settings__submit",children:"Update Settings"})]})})]}):(0,s.jsx)("div",{children:"Please sign in to manage your settings."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1291,7971,5267,979,5456,5119,7348,3396,9320,737,7130,6215,1744],()=>t(24720)),_N_E=e.O()}]);