(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3139],{95267:(e,r,s)=>{Promise.resolve().then(s.bind(s,51665))},3274:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(78030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},10883:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(78030).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},51665:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>y});var a=s(57437),t=s(56341),l=s(2857),c=s(2265),n=s(48185),d=s(66648),i=s(49354),o=s(89733);let u=(0,s(78030).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var h=s(10883);let m=e=>{let{course:r,onEdit:s,onDelete:t,isOwner:l}=e;return(0,a.jsxs)(n.Zb,{className:"course-card-teacher group",children:[(0,a.jsx)(n.Ol,{className:"course-card-teacher__header",children:(0,a.jsx)(d.default,{src:r.image||"/placeholder.png",alt:r.title,width:370,height:150,className:"course-card-teacher__image",priority:!0})}),(0,a.jsxs)(n.aY,{className:"course-card-teacher__content",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(n.ll,{className:"course-card-teacher__title",children:r.title}),(0,a.jsx)(n.SZ,{className:"course-card-teacher__category",children:r.category}),(0,a.jsxs)("p",{className:"text-sm mb-2",children:["Status:"," ",(0,a.jsx)("span",{className:(0,i.cn)("font-semibold px-2 py-1 rounded","Published"===r.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:r.status})]}),r.enrollments&&(0,a.jsxs)("p",{className:"ml-1 mt-1 inline-block text-secondary bg-secondary/10 text-sm font-normal",children:[(0,a.jsx)("span",{className:"font-bold text-white-100",children:r.enrollments.length})," ","Student",r.enrollments.length>1?"s":""," Enrolled"]})]}),(0,a.jsx)("div",{className:"w-full xl:flex space-y-2 xl:space-y-0 gap-2 mt-3",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsxs)(o.z,{className:"course-card-teacher__edit-button",onClick:()=>s(r),children:[(0,a.jsx)(u,{className:"w-4 h-4 mr-2"}),"Edit"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)(o.z,{className:"course-card-teacher__delete-button",onClick:()=>t(r),children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Delete"]})})]}):(0,a.jsx)("p",{className:"text-sm text-gray-500 italic",children:"View Only"})})]})]})};var x=s(2128);let v=e=>{let{onSearch:r,onCategoryChange:s}=e,[t,l]=(0,c.useState)(""),n=e=>{l(e),r(e)};return(0,a.jsxs)("div",{className:"toolbar",children:[(0,a.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Search courses",className:"toolbar__search"}),(0,a.jsxs)(x.Ph,{onValueChange:s,children:[(0,a.jsx)(x.i4,{className:"toolbar__select",children:(0,a.jsx)(x.ki,{placeholder:"Categories"})}),(0,a.jsxs)(x.Bw,{className:"bg-customgreys-primarybg hover:bg-customgreys-primarybg",children:[(0,a.jsx)(x.Ql,{value:"all",className:"toolbar__select-item",children:"All Categories"}),i.QG.map(e=>(0,a.jsx)(x.Ql,{value:e.value,className:"toolbar__select-item",children:e.label},e.value))]})]})]})};var g=s(51994),p=s(5267),f=s(16463);let y=()=>{let e=(0,f.useRouter)(),{user:r}=(0,p.aF)(),{data:s,isLoading:n,isError:d}=(0,g.PW)({category:"all"}),[i]=(0,g._c)(),[u]=(0,g.a_)(),[h,x]=(0,c.useState)(""),[y,j]=(0,c.useState)("all"),N=(0,c.useMemo)(()=>s?s.filter(e=>{let r=e.title.toLowerCase().includes(h.toLowerCase()),s="all"===y||e.category===y;return r&&s}):[],[s,h,y]),b=r=>{e.push("/teacher/courses/".concat(r.courseId),{scroll:!1})},_=async e=>{window.confirm("Are you sure you want to delete this course?")&&await u(e.courseId).unwrap()},w=async()=>{if(!r)return;let s=await i({teacherId:r.id,teacherName:r.fullName||"Unknown Teacher"}).unwrap();e.push("/teacher/courses/".concat(s.courseId),{scroll:!1})};return n?(0,a.jsx)(l.Z,{}):d||!s?(0,a.jsx)("div",{children:"Error loading courses."}):(0,a.jsxs)("div",{className:"teacher-courses",children:[(0,a.jsx)(t.Z,{title:"Courses",subtitle:"Browse your courses",rightElement:(0,a.jsx)(o.z,{onClick:w,className:"teacher-courses__header",children:"Create Course"})}),(0,a.jsx)(v,{onSearch:x,onCategoryChange:j}),(0,a.jsx)("div",{className:"teacher-courses__grid",children:N.map(e=>(0,a.jsx)(m,{course:e,onEdit:b,onDelete:_,isOwner:e.teacherId===(null==r?void 0:r.id)},e.courseId))})]})}},56341:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});var a=s(57437);s(2265);let t=e=>{let{title:r,subtitle:s,rightElement:t}=e;return(0,a.jsxs)("div",{className:"header",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"header__title",children:r}),(0,a.jsx)("p",{className:"header__subtitle",children:s})]}),t&&(0,a.jsx)("div",{children:t})]})}},2857:(e,r,s)=>{"use strict";s.d(r,{Z:()=>l});var a=s(57437),t=s(3274);s(2265);let l=()=>(0,a.jsxs)("div",{className:"loading",children:[(0,a.jsx)(t.Z,{className:"loading__spinner"}),(0,a.jsx)("span",{className:"loading__text",children:"Loading..."})]})},89733:(e,r,s)=>{"use strict";s.d(r,{z:()=>i});var a=s(57437),t=s(2265),l=s(71538),c=s(13027),n=s(49354);let d=(0,c.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=t.forwardRef((e,r)=>{let{className:s,variant:t,size:c,asChild:i=!1,...o}=e,u=i?l.g7:"button";return(0,a.jsx)(u,{className:(0,n.cn)(d({variant:t,size:c,className:s})),ref:r,...o})});i.displayName="Button"},48185:(e,r,s)=>{"use strict";s.d(r,{Ol:()=>n,SZ:()=>i,Zb:()=>c,aY:()=>o,eW:()=>u,ll:()=>d});var a=s(57437),t=s(2265),l=s(49354);let c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...t})});c.displayName="Card";let n=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})});n.displayName="CardHeader";let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...t})});d.displayName="CardTitle";let i=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})});i.displayName="CardDescription";let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...t})});o.displayName="CardContent";let u=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",s),...t})});u.displayName="CardFooter"},13027:(e,r,s)=>{"use strict";s.d(r,{j:()=>c});var a=s(44839);let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=a.W,c=(e,r)=>s=>{var a;if((null==r?void 0:r.variants)==null)return l(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:c,defaultVariants:n}=r,d=Object.keys(c).map(e=>{let r=null==s?void 0:s[e],a=null==n?void 0:n[e];if(null===r)return null;let l=t(r)||t(a);return c[e][l]}),i=s&&Object.entries(s).reduce((e,r)=>{let[s,a]=r;return void 0===a||(e[s]=a),e},{});return l(e,d,null==r?void 0:null===(a=r.compoundVariants)||void 0===a?void 0:a.reduce((e,r)=>{let{class:s,className:a,...t}=r;return Object.entries(t).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...n,...i}[r]):({...n,...i})[r]===s})?[...e,s,a]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},e=>{var r=r=>e(e.s=r);e.O(0,[5267,979,5456,5119,7348,4595,9320,7130,6215,1744],()=>r(95267)),_N_E=e.O()}]);